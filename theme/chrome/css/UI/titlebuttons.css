/* Titlebars (Minimze, Maximize, Restore and Close) */

/* Windows (7, 8/8.1, 10 and 11) */
@media (-moz-platform: windows) { 
@supports not (-moz-bool-pref("silverfox.disableChromeTitlebar")) {

.titlebar-restore,
.titlebar-min,
.titlebar-max,
.titlebar-close {
  list-style-image: none !important;
}

  
.titlebar-close {
  margin-right: 5px !important;
  width: 40px !important;
  height: 37px !important;
  margin-top: -5px !important;
}
:root:not([sizemode="normal"]) .titlebar-close {
  margin-top: -12px !important;
}
.titlebar-restore,
.titlebar-min,
.titlebar-max {
  min-width: 22px !important;
  max-width: 22px !important;
  height: 37px !important;
  padding: 0px !important;
  margin-right: 3px !important;
  margin-top: -5px !important;
}
:root:not([sizemode="normal"]) .titlebar-min {
  margin-top: -12px !important;
}
:root:not([sizemode="normal"]) .titlebar-restore {
  margin-top: -12px !important;
}

/* Adding Chrome style*/
  
.titlebar-close::before {
  content: url(../../assets/images/topbar/windows/close.png) !important;
  width: 44px !important;
  height: 18px !important;
  margin-top: 20px !important;
}
.titlebar-close:hover::before {
  content: url(../../assets/images/topbar/windows/close_hover.png) !important;
  width: 44px !important;
  height: 18px !important;
}
.titlebar-max::before {
  content: url(../../assets/images/topbar/windows/maximize.png) !important;
  width: 25px !important;
  height: 18px !important;
  margin-top: 20px !important;
}
.titlebar-restore::before {
  content: url(../../assets/images/topbar/windows/restore.png) !important;
  width: 25px !important;
  height: 18px !important;
  margin-top: 20px !important;
}

/* Hovers */
.titlebar-max:hover::before {
  content: url(../../assets/images/topbar/windows/maximize_hover.png) !important;
  width: 25px !important;
  height: 18px !important;
}
.titlebar-min::before {
  content: url(../../assets/images/topbar/windows/minimize.png) !important;
  width: 26px !important;
  height: 18px !important;
  margin-top: 20px !important;
}
.titlebar-min:hover::before {
  content: url(../../assets/images/topbar/windows/minimize_hover.png) !important;
  width: 26px !important;
  height: 18px !important;
}
.titlebar-restore:hover::before {
  content: url(../../assets/images/topbar/windows/restore_hover.png) !important;
  width: 25px !important;
  height: 18px !important;
}
}

/* Windows 10 with Aero/Custom themes */  
/* MSStyles themes add a "native" titlebar, no hovers */
  
@media (-moz-platform: windows-win10) {  
@supports (-moz-bool-pref("silverfox.hasAeroGlass")) { 
:root:not(:-moz-lwtheme) .titlebar-restore,
:root[style*="--lwt-accent-color: rgb(240, 240, 244)"] .titlebar-restore,
:root[style*="--lwt-accent-color: rgb(28, 27, 34)"] .titlebar-restore,
:root:not(:-moz-lwtheme) .titlebar-min,
:root[style*="--lwt-accent-color: rgb(240, 240, 244)"] .titlebar-min,
:root[style*="--lwt-accent-color: rgb(28, 27, 34)"] .titlebar-min,
:root:not(:-moz-lwtheme) .titlebar-max,
:root[style*="--lwt-accent-color: rgb(240, 240, 244)"] .titlebar-max,
:root[style*="--lwt-accent-color: rgb(28, 27, 34)"] .titlebar-max,
:root[style*="--lwt-accent-color: rgb(240, 240, 244)"] .titlebar-close,
:root[style*="--lwt-accent-color: rgb(28, 27, 34)"] .titlebar-close,  
:root:not(:-moz-lwtheme) .titlebar-close {
  opacity: 0 !important;
}
  
.titlebar-button {
    background: transparent !important;
}  
}  
  
}
  
  
  
  
/* Windows 7 */
    
@media (-moz-platform: windows-win7) {
         
.titlebar-restore,
.titlebar-min,
.titlebar-max,
.titlebar-close {
  display: unset !important;
} 
         
:root:not([sizemode=maximized], [sizemode=fullscreen]) .titlebar-restore,
:root:is([sizemode=maximized], [sizemode=fullscreen]) .titlebar-max {
  display: none !important;
}
         
.titlebar-close {
  margin-top: -7px !important;
  padding-left: 15px !important;
}
:root:not([sizemode="normal"]) .titlebar-close {
  margin-top: 4px !important;
  margin-bottom: -5px !important;
}
.titlebar-restore,
.titlebar-min,
.titlebar-max {
  margin-top: -4px !important;
  margin-right: 2px !important;
}
:root:not([sizemode="normal"]) .titlebar-min {
  margin-top: 7px !important;
  margin-bottom: -5px !important;
}
:root:not([sizemode="normal"]) .titlebar-restore {
  margin-top: 7px !important;
  margin-right: -15px !important;
  margin-bottom: -5px !important;
} 
.titlebar-max {
   margin-right: -14px !important;
}
         
.titlebar-close:hover::before {
  position: relative !important;
  left: -1px !important;
}

/* Fix for fullscreen native titlebars cutting off nav-bar */  
:root:is(:not([sizemode=normal]), [style*="--lwt-accent-color: rgb(240, 240, 244)"][style*="--lwt-accent-color: rgb(28, 27, 34)"][lwtheme]) .titlebar-buttonbox {
    max-height: 30px !important;
}
  
:root:is(
  [lwtheme]:not([style*="--lwt-accent-color: rgb(240, 240, 244)"]),
  [lwtheme]:not([style*="--lwt-accent-color: rgb(28, 27, 34)"])
):not([sizemode=normal]) .titlebar-buttonbox-container {
    max-height: 30px !important;
}  
  
  
/* When in light/dark mode use native titlebar buttons, when custom themes use Chrome styling */
:root:is(
  [style*="--lwt-header-image"],
  [lwtheme-image],
  [style*="--lwt-additional-images"]
) {
  appearance: unset !important;
}

:root:is(
  [style*="--lwt-header-image"],
  [lwtheme-image],
  [style*="--lwt-additional-images"]
) .titlebar-buttonbox-container {
  align-items: center !important;
  margin-right: -7px;
} 
}

/* Windows 8 / 8.1 */

@media (-moz-platform: windows-win8) {
         
.titlebar-restore,
.titlebar-min,
.titlebar-max,
.titlebar-close {
  display: unset !important;
} 
         
:root:not([sizemode=maximized], [sizemode=fullscreen]) .titlebar-restore,
:root:is([sizemode=maximized], [sizemode=fullscreen]) .titlebar-max {
  display: none !important;
}
         
.titlebar-close {
  margin-right: 5px !important;
  margin-top: -7px !important;
}
:root:not([sizemode="normal"]) .titlebar-close {
  margin-top: 4px !important;
  margin-bottom: -5px !important;
}
.titlebar-restore,
.titlebar-min,
.titlebar-max {
  margin-right: -11px !important;
  margin-top: -4px !important;
}
:root:not([sizemode="normal"]) .titlebar-min {
  margin-top: 7px !important;
    margin-bottom: -5px !important;
}
:root:not([sizemode="normal"]) .titlebar-restore {
  margin-top: 7px !important;
  margin-right: -15px !important;
  margin-bottom: -5px !important;
} 
.titlebar-max {
   margin-right: -15px !important;
}
         
.titlebar-close:hover::before {
  position: relative !important;
  left: -1px !important;
}

  
/* Fix for fullscreen native titlebars cutting off nav-bar */  
:root:is(:not([sizemode=normal]), [style*="--lwt-accent-color: rgb(240, 240, 244)"][style*="--lwt-accent-color: rgb(28, 27, 34)"][lwtheme]) .titlebar-buttonbox {
    max-height: 30px !important;
}
  
:root:is(
  [lwtheme]:not([style*="--lwt-accent-color: rgb(240, 240, 244)"]),
  [lwtheme]:not([style*="--lwt-accent-color: rgb(28, 27, 34)"])
):not([sizemode=normal]) .titlebar-buttonbox-container {
    max-height: 30px !important;
}  



/* When in light/dark mode use native titlebar buttons, when custom themes use Chrome styling */                 
:root:is(
  [style*="--lwt-header-image"],
  [lwtheme-image],
  [style*="--lwt-additional-images"]
) {
  appearance: unset !important;
}
/* In Windows 8, native titlebars have the accent color overlayed over, so for themes that dont have a image bring Chrome styling*/  
:root[lwtheme]:not([style*="--lwt-accent-color: rgb(240, 240, 244)"]):not([style*="--lwt-accent-color: rgb(28, 27, 34)"]) {
  appearance: unset !important;
}
  

:root:is(
  [style*="--lwt-header-image"],
  [lwtheme-image],
  [style*="--lwt-additional-images"]
) .titlebar-buttonbox-container {
  align-items: center !important;
  margin-right: -7px;
}
/* In Windows 8, native titlebars have the accent color overlayed over, so for themes that dont have a image bring Chrome styling*/  
:root[lwtheme]:not([style*="--lwt-accent-color: rgb(240, 240, 244)"]):not([style*="--lwt-accent-color: rgb(28, 27, 34)"]) .titlebar-buttonbox-container {
  align-items: center !important;
  margin-right: -7px;
}
  
  
}

/* Aero Basic, note hovers still show the default buttons unfortunately */
@media (-moz-windows-compositor: 0) {
  
:root[tabsintitlebar]:not([inDOMFullscreen]) #titlebar:-moz-lwtheme {
      visibility: hidden !important;
}

#titlebar-buttonbox-container .titlebar-close {
  appearance: none !important;
}
  
  
.titlebar-button {
    appearance: none !important;
}   
          
.titlebar-close {
  margin-top: 9px !important;
  margin-right: 20px !important;
}
:root:not([sizemode="normal"]) .titlebar-close {
  margin-top: 2px !important;
  margin-bottom: -5px !important;
}
.titlebar-restore,
.titlebar-min,
.titlebar-max {
  margin-top: 15px !important;
  margin-right: 2px !important;
}
:root:not([sizemode="normal"]) .titlebar-min {
  margin-top: 8px !important;
  margin-bottom: -5px !important;
}
:root:not([sizemode="normal"]) .titlebar-restore {
  margin-top: 8px !important;
  margin-right: -12px !important;
  margin-bottom: -5px !important;
} 
.titlebar-max {
   margin-right: -14px !important;
}
        
.titlebar-close:hover::before {
  position: relative !important;
  left: -1px !important;
}

:root:not(
  [style*="--lwt-header-image"],
  [lwtheme-image],
  [style*="--lwt-additional-images"]
) .titlebar-buttonbox {
  align-items: center !important;
  appearance: none !important;
}    
}
}


/* Linux */
@media (-moz-platform: linux) { 
  .titlebar-close,
  .titlebar-restore,
  .titlebar-min,
  .titlebar-max {
    min-width: 24px !important;
    max-width: 24px !important;
    height: 18px !important;
    padding: 0px !important;
    margin-top: -14px !important;
    appearance: none !important;
    list-style-image: none !important;
    border-radius: 0 !important;
  }
  .titlebar-restore,
  .titlebar-min,
  .titlebar-max {
    margin-right: 2px !important;
  }

:root:not([sizemode="normal"]) .titlebar-close,
:root:not([sizemode="normal"]) .titlebar-min,
:root:not([sizemode="normal"]) .titlebar-restore {
      margin-top: 0px !important;
}
  
  /* Adding Chrome style*/
  .titlebar-close {
    background: url(../../assets/images/topbar/linux/close.png) !important;
  }
  .titlebar-min {
    background: url(../../assets/images/topbar/linux/minimize.png) !important;
  }
  .titlebar-max {
    background: url(../../assets/images/topbar/linux/maximize.png) !important;
  }
  .titlebar-restore {
    background: url(../../assets/images/topbar/linux/restore.png) !important;
  }

  /* Hovers */
  .titlebar-close:hover {
    background: url(../../assets/images/topbar/linux/close_hover.png) !important;
  }
  .titlebar-min:hover {
    background: url(../../assets/images/topbar/linux/minimize_hover.png) !important;
  }
  .titlebar-max:hover {
    background: url(../../assets/images/topbar/linux/maximize_hover.png) !important;
  }
  .titlebar-restore:hover {
    background: url(../../assets/images/topbar/linux/restore_hover.png) !important;
  }

  /* Pressed */
  .titlebar-close:hover:active {
    background: url(../../assets/images/topbar/linux/close_pressed.png) !important;
  }
  .titlebar-min:hover:active {
    background: url(../../assets/images/topbar/linux/minimize_pressed.png) !important;
  }
  .titlebar-max:hover:active {
    background: url(../../assets/images/topbar/linux/maximize_pressed.png) !important;
  }
  .titlebar-restore:hover:active {
    background: url(../../assets/images/topbar/linux/restore_pressed.png) !important;
  }
}